<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>标题标题</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="./css/animate.css">
    <link rel="stylesheet" href="./css/index.css">

    <script type="text/javascript">
        
    var evt = "onorientationchange" in window ? "orientationchange" : "resize";
    function resize() {
        var html = document.documentElement,
        fontSize = 100,//100为根元素字体大小
        pageW = 375,//设计稿页面宽度
        pageH = 604,//设计稿页面高度
        //根据具体情况修改宽高值，可以用页面主体内容的宽高值
        wk = 375;//页面大小缩放的上限阀值，当页面大小超过此值时将不再放大页面
        hk = 604;//页面大小缩放的上限阀值，当页面大小超过此值时将不再放大页面
        if (html.clientWidth / html.clientHeight > pageW / pageH) {
            if (html.clientHeight <= hk) {
                html.style.fontSize = html.clientHeight / pageH * fontSize + "px";
            } else {
                html.style.fontSize = hk / pageH * fontSize + "px";
            }
        } else {
            if (html.clientWidth <= wk) {
                html.style.fontSize = html.clientWidth / pageW * fontSize + "px";
            } else {
                html.style.fontSize = wk / pageW * fontSize + "px";
            }
        }
    }
    resize();
    
    </script>

    <!-- Demo styles -->
    <style>
    .swiper-container {
        width: 100%;
        height: 100%;
    }
    .swiper-slide {
        /*text-align: center;*/
        /*font-size: 18px;*/
        /*background: #fff;*/
        display: -webkit-box;
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -webkit-box-pack: center;
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
        -webkit-box-align: center;
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
    }
    </style>
</head>
<body>



    <!-- 横屏提示代码 [[ -->
    <div id="orientation_hinter" class="landscape">
        <div class="hinter_phone"><i></i></div>
        <div class="hinter_rotate"></div>
        <div class="hinter_text landscape">竖屏体验效果更佳</div>
        <div class="hinter_text portrait">横屏体验效果更佳</div>
    </div>
    <!-- 横屏提示代码 ]] -->

    <!-- 竖屏提示代码 [[ -->
    <!-- <div id="orientation_hinter" class="portrait">
        <div class="hinter_phone"><i></i></div>
        <div class="hinter_rotate"></div>
        <div class="hinter_text landscape">竖屏体验效果更佳</div>
        <div class="hinter_text portrait">横屏体验效果更佳</div>
    </div> -->
    <!-- 竖屏提示代码 ]] -->



    <!-- LOADING代码 [[ -->
    <div class="preloader">
        <div class="preloader-container">
            <div class="preloader-img">
                
            </div>
            <div class="preloader-text">已加载<span class="preloader-percent percent">0%</span></div>
        </div>
    </div>
    <!-- LOADING代码 ]] -->


    <!-- 页面主体 [[ -->
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <!-- <div class="swiper-slide s1">
                <div class="wrap">
                    <div class="wrap__pic wrap__pic-blur wrap__pic-1"></div>
                    <div class="wrap__text">我们正在寻找希望</div>
                </div>
            </div> -->
            <div class="swiper-slide s2">
                <div class="wrap">
                    <div class="wrap__pic wrap__pic-blur wrap__pic-2"></div>
                    <div class="wrap__right-top">
                        感谢有你
                        <div class="wrap__right-top-item i1"></div>
                        <div class="wrap__right-top-item i2"></div>
                        <div class="wrap__right-top-item i3"></div>
                        <div class="wrap__right-top-item i4"></div>
                    </div>
                    <div class="wrap__left-bottom">
                        <p class="name">刘欣欣 · 贵州安顺</p>
                        <p class="proj">—— 点亮爱心书桌</p>
                    </div>
                    <!-- <div class="wrap__text">
                        
                    </div> -->
                </div>
            </div>
            <div class="swiper-slide s3">
                <div class="wrap">
                    <div class="wrap__pic wrap__pic-blur wrap__pic-3"></div>
                    <div class="wrap__right-top">
                        给我真切帮助
                        <div class="wrap__right-top-item i1"></div>
                        <div class="wrap__right-top-item i2"></div>
                        <div class="wrap__right-top-item i3"></div>
                        <div class="wrap__right-top-item i4"></div>
                        <div class="wrap__right-top-item i5"></div>
                        <div class="wrap__right-top-item i6"></div>
                        <div class="wrap__right-top-item i7"></div>
                    </div>
                    <div class="wrap__left-bottom">
                        <p class="name">刘欣欣 · 贵州安顺</p>
                        <p class="proj">—— 点亮爱心书桌</p>
                    </div>
                </div>
            </div>
            <div class="swiper-slide s4">
                <div class="wrap">
                    <div class="wrap__pic wrap__pic-blur wrap__pic-4"></div>
                    <div class="wrap__right-top">
                        赠我无限希冀
                        <div class="wrap__right-top-item i1"></div>
                        <div class="wrap__right-top-item i2"></div>
                        <div class="wrap__right-top-item i3"></div>
                        <div class="wrap__right-top-item i4"></div>
                        <div class="wrap__right-top-item i5"></div>
                        <div class="wrap__right-top-item i6"></div>
                    </div>
                    <div class="wrap__left-bottom">
                        <p class="name">李研顺 · 江苏泉州</p>
                        <p class="proj">—— 盲胞阅读</p>
                    </div>
                </div>
            </div>
            <div class="swiper-slide s5">
                <div class="wrap">
                    <div class="wrap__pic wrap__pic-blur wrap__pic-5"></div>
                    <div class="wrap__right-top">
                        让我们爱在一起
                        <div class="wrap__right-top-item i1"></div>
                        <div class="wrap__right-top-item i2"></div>
                        <div class="wrap__right-top-item i3"></div>
                        <div class="wrap__right-top-item i4"></div>
                        <div class="wrap__right-top-item i5"></div>
                        <div class="wrap__right-top-item i6"></div>
                        <div class="wrap__right-top-item i7"></div>
                    </div>
                    <div class="wrap__left-bottom">
                        <p class="name">李研顺 · 江苏泉州</p>
                        <p class="proj">—— 盲胞阅读</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- Add Pagination -->
        <!-- <div class="swiper-pagination"></div> -->
    </div>
    <!-- 页面主体 ]] -->


    <!-- 音频代码 [[ -->
    <a href="javascript:;" id="bgMusicContr" class="music"></a>
    <audio id="bgMusic" src="https://demo.cdc.im/luke/wechatPro/assets/media/music.1dfb.mp3" loop="" preload="auto"></audio>
    <!-- 音频代码 ]] -->



    <!-- Swiper JS -->
    <script src="./js/zepto.min.js"></script>
    <script src="./js/swiper.jquery.min.js"></script>
    <script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
    <script src="./js/preloader.js"></script>

    <!-- Initialize Swiper -->
    <script>
    (function() {

        'use strict';
        // 预加载资源
        var preload = [
            // './media/music.1dfb.mp3',
            './images/bg1.jpg',
            './images/bg2.jpg',
            './images/bg3.jpg',
            './images/bg4.jpg',
            './images/bg5.jpg',
            './images/sound.png',
            './images/sound_muted.png',

        ];

        var clickEvent = (document.ontouchstart!==null) ? 'click' : 'touchstart';
        var transitionEvent = whichTransitionEvent();
        var animationEvent = whichAnimationEvent();


        function whichTransitionEvent(){
            var t,
                el = document.createElement("fakeelement");

            var transitions = {
                "transition"      : "transitionend",
                "OTransition"     : "oTransitionEnd",
                "MozTransition"   : "transitionend",
                "WebkitTransition": "webkitTransitionEnd"
            }

            for (t in transitions){
                if (el.style[t] !== undefined){
                    return transitions[t];
                }
            }
        }

        function whichAnimationEvent(){
            var t,
                el = document.createElement("fakeelement");

            var animations = {
                "animation"      : "animationend",
                "OAnimation"     : "oAnimationEnd",
                "MozAnimation"   : "animationend",
                "WebkitAnimation": "webkitAnimationEnd"
            }

            for (t in animations){
                if (el.style[t] !== undefined){
                    return animations[t];
                }
            }
        }
        
        // 预加载动画
        new preloader({
            files: preload,
            progress: function(err, response, percent) {
                $('.percent').text(percent + '%');
            },
            complete: function() {
                // 隐藏加载器
                $('.preloader').addClass('loaded');
                $('.preloader').on(animationEvent, function() {
                    $('.preloader').remove();
                    // setTimeout(function() {
                    //     $('.point .avatar').remove();
                    // }, 200);
                });
                var swiper = new Swiper('.swiper-container', {
                    pagination: '.swiper-pagination',
                    paginationClickable: true
                });

                // 每次打开的时候判断一下localstorage，是否播放音乐
                // if (typeof localStorage !== undefined) {
                //     var musicDefault = localStorage.getItem('musicDefault');
                //     if(musicDefault === 'true') {
                //         bgAudio.play();
                //     }
                // } else {
                //     bgAudio.play();
                // }
            }
        });


        // var swiper = new Swiper('.swiper-container', {
        //     pagination: '.swiper-pagination',
        //     paginationClickable: true
        // });


        // var clickEvent = (document.ontouchstart!==null) ? 'click' : 'touchstart';

        // wx.ready(function() {

        //     // 分享到朋友圈
        //     wx.onMenuShareTimeline({
        //         title: '标题标题标题标题', // 分享标题
        //         // link: 'http://wj.qq.com/activities/2016/04/cdc_ten/index.html', // 分享链接
        //         link: window.location.href,
        //         imgUrl: 'http://www.padding-left.com/wp-content/jt/24hours/images/cover.jpg', // 分享图标
        //         success: function () {
        //             // 用户确认分享后执行的回调函数
        //             typeof MtaH5 !== 'undefined' && MtaH5.clickStat('cdc10.sharetimeline');
        //         },
        //         cancel: function () {
        //             // 用户取消分享后执行的回调函数
        //         }
        //     });

        //     // 分享给好友
        //     wx.onMenuShareAppMessage({
        //         title: '标题标题标题标题', // 分享标题
        //         desc: 'descdescdesc', // 分享描述
        //         // link: 'http://wj.qq.com/activities/2016/04/cdc_ten/index.html', // 分享链接
        //         link: window.location.href,
        //         imgUrl: 'http://www.padding-left.com/wp-content/jt/24hours/images/cover.jpg', // 分享图标
        //         type: 'link', // 分享类型,music、video或link，不填默认为link
        //         dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空
        //         success: function () {
        //             // 用户确认分享后执行的回调函数
        //             typeof MtaH5 !== 'undefined' && MtaH5.clickStat('cdc10.sharefriend');
        //         },
        //         cancel: function () {
        //             // 用户取消分享后执行的回调函数
        //         }
        //     });
        // });

        

        var cUrl = window.location.href.replace(window.location.hash, '');
        $.ajax({
            url: 'http://5minute.cdc.qq.com/wxjssdk-signature/sign.php',
            type: 'GET',
            data: {url: cUrl},
            dataType: 'jsonp',
            success: function(res) {
                wx.config({
                        debug: false,
                        appId: res.data.appId,
                        timestamp: res.data.timestamp,
                        nonceStr: res.data.nonceStr,
                        signature: res.data.signature,
                        jsApiList: [
                            'onMenuShareTimeline',
                            'onMenuShareAppMessage',
                            'onMenuShareQQ',
                            'onMenuShareWeibo',
                            'onMenuShareQZone',
                            'startRecord',
                            'stopRecord',
                            'onVoiceRecordEnd',
                            'playVoice',
                            'pauseVoice',
                            'stopVoice',
                            'onVoicePlayEnd',
                            'uploadVoice',
                            'downloadVoice'
                        ]
                });
            }
        });

    })();
    </script>
    <script src="./js/comm.js"></script>
</body>
</html>